<h1>📌 단위 변환 앱 만들어 보기</h1>

<h2>전 시간에 이어서!</h2>
<br>

<h3><b>7. Flip 버튼 생성과 하나의 input에만 입력할 수 있도록 하기</b></h3>
<br>
<h4><b>7-1. Flip 버튼을 만들고, 그 버튼을 클릭하면 실행될 onFlip 함수를 연결해 준다.</b></h4> 
<br>

```js
          .....
          <button onClick={onFlip}>Flip</button>
          .....
```

<br>

<h4><b>7-2. 지금까지는 minutes 라는 하나의 state만 가지고 있었지만 flip 조작 시 사용되는 새로운 state인 fliped를 만들어 준다.</b></h4>
<h4>초깃값은 false라고 설정한다. (분 -> 시간의 상태로, 뒤집어지지 않은 상태를 의미)</h4>
<br>

```js
      .....
      const [filpped, setFlipped] = React.useState(false);
      .....
```

<br>

<h4><b>7-3. onFlip 함수의 내용을 작성하는데, flipped가 true 상태라면 false를 반환하고, false 상태라면 true를 반환하는 코드를 작성한다.</b></h4>
<h4>물론 반환되는 값은 setFlipped 함수의 인자로 들어가서 state인 flipped에 전달되어야 한다.</h4>
<br>

```js
const onFlip = () => setFlipped(!flipped);
```

<h4>위처럼 간단하게 논리 연산자 !를 이용하여 반대의 상태를 나타낼 수 있다.</h4>
<h4><b>but 위처럼 state의 계산을 React.useState의 배열로부터 가져온 값인 flipped를 바탕으로 하는 것은 좋지 않다.</b></h4>
<h4>따라서 setFlipped 함수에 기존 값을 새로운 값으로 업데이트 하는 형식으로 코드를 작성해야 한다. (화살표 함수를 이용)</h4>
<br>

```js
const onFlip = () => setFlipped((current) => !current);
```

<h4>여기까지만 하면 우리는 state(flipped)를 사용하여 무언가를 하고 있는 것이 아니기 때문에 Flip 버튼이 생성된 것 이외에는 눈으로 보이는 변화가 없다.</h4>
<br>

<h4><b>7-4. Hours와 Minutes에 해당하는 input에 disabled 속성을 입력해 준다.</b></h4>
<h4>disabled 속성에는 true, false 값을 명시적으로 작성하는 것이 가능하다.</h4>
<h4>우리는 disabled 속성의 값으로 js 코드를 작성할 것인데, Hours에 해당하는 input에 flipped가 false일 경우 true를 반환하고, true일 경우에 false를 반환하도록 간단한 형태로 적어줄 것이다.</h4>
<br>

```js
.....
<input
  value={Math.round(minutes / 60)}
  id="hours"
  placeholder="Hours"
  type="number"
  disabled={!flipped}     // flipped === false 도 가능
/>
.....
```

<h4>Minutes에 해당하는 input에는 그 반대를 적어주면 된다.</h4>
<br>

```js
<input
  value={minutes}
  id="minutes"
  placeholder="Minutes"
  type="number"
  onChange={onChange}
  disabled={flipped} // flipped === true 도 가능
/>
```

<h4>이렇게 하면 Flip 버튼을 클릭했을 때 어느 한쪽만 disable 될 수 있다.</h4>
<br><br><br>

<h3><b>8. 시간 --> 분으로도 변경할 수 있게 하기</b></h3>
<h4>현재까지는 Hours input에 무언가를 작성하려고 할 때 아무것도 작성되지 않는 것을 볼 수 있다.</h4>
<h4>Hours input에도 change event를 리스닝하게 한다.</h4>
<br>

```js
<input
  value={Math.round(minutes / 60)}
  id="hours"
  placeholder="Hours"
  type="number"
  onChange={onChange}
  disabled={!flipped}
/>
```

<h4>Flip을 하고 Hours의 input에 숫자를 입력하면 onChange 함수가 호출되어 mintues state가 바뀌어 그대로 minutes 입력란에 뜨는 것을 볼 수 있다.</h4>
<h4>그런데 Hours 입력란에는 입력한 숫자가 뜨지 않고, Minutes 입력란에도 숫자가 바뀔 때마다 하나씩밖에 뜨지 않는 것을 볼 수 있다.</h4>
<br>
<h4>우리가 원하는 것은 Hours에 값을 입력할 때에는 Hours 입력란에 우리가 입력하는 값을 그대로 보여주고, 그것을 분으로 변환한 값을 Minutes 입력란에 보여주는 것이므로 삼항 연산자를 사용해 value 속성에 값을 작성한다.</h4>
<br>

<h4><b>즉, flipped가 true인 경우에는(시간 --> 분 변환의 경우) 현재 state인 minutes를 그대로 보여주고, flipped가 false인 경우에는(분 --> 시간 변환의 경우) minutes를 60으로 나누어 시간으로 변환한 값을 보여주도록 한다.</b></h4>
<h4>그런데 minutes라는 이름은 헷갈리므로 state명을 amount로 변환하도록 하겠다.</h4>
<br>

```js
<input
  value={flipped ? amount : Math.round(minutes / 60)} // 주목!
  id="hours"
  placeholder="Hours"
  type="number"
  onChange={onChange}
  disabled={!flipped}
/>
```

<br>

<h4>Minutes input에도 적용한다. Hours 때랑 반대로 적용하면 된다.</h4>
<br>

```js
<input
  value={flipped ? amount * 60 : amount} // 주목!
  id="minutes"
  placeholder="Minutes"
  type="number"
  onChange={onChange}
  disabled={flipped}
/>
```

<br><br><br>

<h3><b>9. Flip을 할 때마다 변환된 값이 바뀌는 문제 해결하기</b></h3>
<h4>위 문제를 해결하기 위해 reset 함수를 onFlip 함수에 적용해 준다.</h4>
<br>

```js
.....
const onFlip = () => {
  reset();     // 입력란의 값을 0으로 초기화
  setFlipped((current) => !current);     // setFlipped 함수는 Flip 여부와 관련
};
.....
```
